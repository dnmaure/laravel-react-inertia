import { Head, useForm } from '@inertiajs/react';
import AuthenticatedLayout from '@/Layouts/AuthenticatedLayout';
import { showToast } from '@/lib/toast';
{{datePickerImport}}
{{switchImport}}
{{checkboxImport}}
{{labelImport}}

export default function Edit({ auth, {{entityLower}}, errors }) {
    const { data, setData, put, processing } = useForm({
        {{formData}},
    });

    const submit = (e) => {
        e.preventDefault();
        put(route('{{entityPluralLower}}.update', {{entityLower}}.id), {
            preserveScroll: true,
            onSuccess: () => {
                showToast.success('{{entityName}} updated successfully!');
            },
            onError: (errors) => {
                showToast.error('Failed to update {{entityName}}. Please check the form and try again.');
            },
        });
    };

    return (
        <AuthenticatedLayout
            header="Edit {{entityName}}"
            breadcrumbs={[
                { label: 'Dashboard', href: route('dashboard') },
                { label: '{{entityPlural}}', href: route('{{entityPluralLower}}.index') },
                { label: 'Edit {{entityName}}', href: route('{{entityPluralLower}}.edit', {{entityLower}}.id) }
            ]}
        >
            <Head title="Edit {{entityName}}" />

            <div className="bg-white shadow-sm rounded-lg p-6">
                <form onSubmit={submit}>
                    {{formFields}}

                    <div className="flex items-center justify-between">
                        <button
                            type="submit"
                            disabled={processing}
                            className="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
                        >
                            Update {{entityName}}
                        </button>
                    </div>
                </form>
            </div>
        </AuthenticatedLayout>
    );
}